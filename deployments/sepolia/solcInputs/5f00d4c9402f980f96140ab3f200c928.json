{
  "language": "Solidity",
  "sources": {
    "@openzeppelin/contracts/access/Ownable.sol": {
      "content": "// SPDX-License-Identifier: MIT\n// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)\n\npragma solidity ^0.8.20;\n\nimport {Context} from \"../utils/Context.sol\";\n\n/**\n * @dev Contract module which provides a basic access control mechanism, where\n * there is an account (an owner) that can be granted exclusive access to\n * specific functions.\n *\n * The initial owner is set to the address provided by the deployer. This can\n * later be changed with {transferOwnership}.\n *\n * This module is used through inheritance. It will make available the modifier\n * `onlyOwner`, which can be applied to your functions to restrict their use to\n * the owner.\n */\nabstract contract Ownable is Context {\n    address private _owner;\n\n    /**\n     * @dev The caller account is not authorized to perform an operation.\n     */\n    error OwnableUnauthorizedAccount(address account);\n\n    /**\n     * @dev The owner is not a valid owner account. (eg. `address(0)`)\n     */\n    error OwnableInvalidOwner(address owner);\n\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n    /**\n     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.\n     */\n    constructor(address initialOwner) {\n        if (initialOwner == address(0)) {\n            revert OwnableInvalidOwner(address(0));\n        }\n        _transferOwnership(initialOwner);\n    }\n\n    /**\n     * @dev Throws if called by any account other than the owner.\n     */\n    modifier onlyOwner() {\n        _checkOwner();\n        _;\n    }\n\n    /**\n     * @dev Returns the address of the current owner.\n     */\n    function owner() public view virtual returns (address) {\n        return _owner;\n    }\n\n    /**\n     * @dev Throws if the sender is not the owner.\n     */\n    function _checkOwner() internal view virtual {\n        if (owner() != _msgSender()) {\n            revert OwnableUnauthorizedAccount(_msgSender());\n        }\n    }\n\n    /**\n     * @dev Leaves the contract without owner. It will not be possible to call\n     * `onlyOwner` functions. Can only be called by the current owner.\n     *\n     * NOTE: Renouncing ownership will leave the contract without an owner,\n     * thereby disabling any functionality that is only available to the owner.\n     */\n    function renounceOwnership() public virtual onlyOwner {\n        _transferOwnership(address(0));\n    }\n\n    /**\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\n     * Can only be called by the current owner.\n     */\n    function transferOwnership(address newOwner) public virtual onlyOwner {\n        if (newOwner == address(0)) {\n            revert OwnableInvalidOwner(address(0));\n        }\n        _transferOwnership(newOwner);\n    }\n\n    /**\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\n     * Internal function without access restriction.\n     */\n    function _transferOwnership(address newOwner) internal virtual {\n        address oldOwner = _owner;\n        _owner = newOwner;\n        emit OwnershipTransferred(oldOwner, newOwner);\n    }\n}\n"
    },
    "@openzeppelin/contracts/utils/Context.sol": {
      "content": "// SPDX-License-Identifier: MIT\n// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)\n\npragma solidity ^0.8.20;\n\n/**\n * @dev Provides information about the current execution context, including the\n * sender of the transaction and its data. While these are generally available\n * via msg.sender and msg.data, they should not be accessed in such a direct\n * manner, since when dealing with meta-transactions the account sending and\n * paying for execution may not be the actual sender (as far as an application\n * is concerned).\n *\n * This contract is only required for intermediate, library-like contracts.\n */\nabstract contract Context {\n    function _msgSender() internal view virtual returns (address) {\n        return msg.sender;\n    }\n\n    function _msgData() internal view virtual returns (bytes calldata) {\n        return msg.data;\n    }\n\n    function _contextSuffixLength() internal view virtual returns (uint256) {\n        return 0;\n    }\n}\n"
    },
    "contracts/modules/013-job-board/IJobBoard.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\n/**\r\n * @title IJobBoard\r\n * @dev Interface for job board and career opportunities system\r\n */\r\ninterface IJobBoard {\r\n    // ============ Events ============\r\n    event JobPosted(\r\n        uint256 indexed jobId,\r\n        string title,\r\n        address indexed employer,\r\n        uint256 postedAt\r\n    );\r\n\r\n    event JobStatusUpdated(\r\n        uint256 indexed jobId,\r\n        string status\r\n    );\r\n\r\n    event ApplicationSubmitted(\r\n        uint256 indexed jobId,\r\n        address indexed applicant,\r\n        uint256 applicationId,\r\n        uint256 submittedAt\r\n    );\r\n\r\n    event ApplicationStatusUpdated(\r\n        uint256 indexed applicationId,\r\n        string status\r\n    );\r\n\r\n    event JobMatched(\r\n        uint256 indexed jobId,\r\n        address indexed applicant,\r\n        uint256 matchScore\r\n    );\r\n\r\n    event EmployerRegistered(\r\n        address indexed employer,\r\n        string companyName\r\n    );\r\n\r\n    event ReviewSubmitted(\r\n        uint256 indexed jobId,\r\n        address indexed reviewer,\r\n        uint256 rating\r\n    );\r\n\r\n    // ============ Mutations ============\r\n    /**\r\n     * @notice Register as employer\r\n     * @param companyName Company name\r\n     * @param companyURI IPFS URI with company details\r\n     */\r\n    function registerEmployer(\r\n        string calldata companyName,\r\n        string calldata companyURI\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Post a job\r\n     * @param title Job title\r\n     * @param description Job description\r\n     * @param category Job category\r\n     * @param location Job location\r\n     * @param jobType Employment type (full-time, part-time, etc.)\r\n     * @param minSalary Minimum salary\r\n     * @param maxSalary Maximum salary\r\n     * @param requiredSkills Required skills (comma-separated)\r\n     * @return jobId ID of posted job\r\n     */\r\n    function postJob(\r\n        string calldata title,\r\n        string calldata description,\r\n        string calldata category,\r\n        string calldata location,\r\n        string calldata jobType,\r\n        uint256 minSalary,\r\n        uint256 maxSalary,\r\n        string calldata requiredSkills\r\n    ) external returns (uint256);\r\n\r\n    /**\r\n     * @notice Submit job application\r\n     * @param jobId Job ID\r\n     * @param coverLetter Applicant's cover letter\r\n     * @return applicationId ID of application\r\n     */\r\n    function applyForJob(\r\n        uint256 jobId,\r\n        string calldata coverLetter\r\n    ) external returns (uint256);\r\n\r\n    /**\r\n     * @notice Update application status\r\n     * @param applicationId Application ID\r\n     * @param status New status (e.g., \"reviewed\", \"shortlisted\", \"rejected\", \"accepted\")\r\n     */\r\n    function updateApplicationStatus(\r\n        uint256 applicationId,\r\n        string calldata status\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Update job status\r\n     * @param jobId Job ID\r\n     * @param status New status (e.g., \"open\", \"closed\", \"filled\")\r\n     */\r\n    function updateJobStatus(uint256 jobId, string calldata status) external;\r\n\r\n    /**\r\n     * @notice Submit review for completed job/internship\r\n     * @param jobId Job ID\r\n     * @param rating Rating (1-5)\r\n     * @param comment Review comment\r\n     */\r\n    function submitReview(\r\n        uint256 jobId,\r\n        uint256 rating,\r\n        string calldata comment\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Get job matches for student (AI/scoring based)\r\n     * @param student Student address\r\n     * @param limit Number of matches to return\r\n     */\r\n    function getJobMatches(address student, uint256 limit)\r\n        external\r\n        view\r\n        returns (uint256[] memory jobIds, uint256[] memory scores);\r\n\r\n    /**\r\n     * @notice Authorize matching service\r\n     * @param service Service address\r\n     */\r\n    function authorizeMatchingService(address service) external;\r\n\r\n    /**\r\n     * @notice Revoke matching service authorization\r\n     * @param service Service address\r\n     */\r\n    function revokeMatchingService(address service) external;\r\n\r\n    // ============ Queries ============\r\n    /**\r\n     * @notice Get job details\r\n     * @param jobId Job ID\r\n     */\r\n    function getJobDetails(uint256 jobId)\r\n        external\r\n        view\r\n        returns (\r\n            string memory title,\r\n            string memory description,\r\n            address employer,\r\n            string memory category,\r\n            string memory location,\r\n            string memory jobType,\r\n            uint256 minSalary,\r\n            uint256 maxSalary,\r\n            string memory requiredSkills,\r\n            string memory status,\r\n            uint256 postedAt,\r\n            uint256 applicationCount\r\n        );\r\n\r\n    /**\r\n     * @notice Get application details\r\n     * @param applicationId Application ID\r\n     */\r\n    function getApplicationDetails(uint256 applicationId)\r\n        external\r\n        view\r\n        returns (\r\n            address applicant,\r\n            uint256 jobId,\r\n            string memory coverLetter,\r\n            string memory status,\r\n            uint256 submittedAt\r\n        );\r\n\r\n    /**\r\n     * @notice Get employer information\r\n     * @param employer Employer address\r\n     */\r\n    function getEmployerInfo(address employer)\r\n        external\r\n        view\r\n        returns (\r\n            string memory companyName,\r\n            string memory companyURI,\r\n            uint256 jobsPosted,\r\n            uint256 registeredAt\r\n        );\r\n\r\n    /**\r\n     * @notice Get job applications\r\n     * @param jobId Job ID\r\n     */\r\n    function getJobApplications(uint256 jobId)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Get student applications\r\n     * @param student Student address\r\n     */\r\n    function getStudentApplications(address student)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Get applicant's jobs\r\n     * @param employer Employer address\r\n     */\r\n    function getEmployerJobs(address employer)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Check if address is registered employer\r\n     * @param employer Employer address\r\n     */\r\n    function isRegisteredEmployer(address employer)\r\n        external\r\n        view\r\n        returns (bool);\r\n\r\n    /**\r\n     * @notice Get job reviews\r\n     * @param jobId Job ID\r\n     */\r\n    function getJobReviews(uint256 jobId)\r\n        external\r\n        view\r\n        returns (\r\n            address[] memory reviewers,\r\n            uint256[] memory ratings,\r\n            string[] memory comments,\r\n            uint256[] memory timestamps\r\n        );\r\n\r\n    /**\r\n     * @notice Get job statistics\r\n     * @param jobId Job ID\r\n     */\r\n    function getJobStats(uint256 jobId)\r\n        external\r\n        view\r\n        returns (\r\n            uint256 applicationCount,\r\n            uint256 acceptedCount,\r\n            uint256 rejectedCount,\r\n            uint256 averageRating\r\n        );\r\n\r\n    /**\r\n     * @notice Get total jobs posted\r\n     */\r\n    function getTotalJobsPosted() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Get total applications submitted\r\n     */\r\n    function getTotalApplications() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Get total registered employers\r\n     */\r\n    function getTotalEmployers() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Search jobs by category\r\n     * @param category Job category\r\n     */\r\n    function getJobsByCategory(string calldata category)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Search jobs by location\r\n     * @param location Job location\r\n     */\r\n    function getJobsByLocation(string calldata location)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n}\r\n"
    },
    "contracts/modules/013-job-board/JobBoard.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\nimport {Ownable} from \"@openzeppelin/contracts/access/Ownable.sol\";\r\nimport {IJobBoard} from \"./IJobBoard.sol\";\r\n\r\n/**\r\n * @title JobBoard\r\n * @dev Job board and career opportunities system for students\r\n */\r\ncontract JobBoard is Ownable, IJobBoard {\r\n    // ============ Data Structures ============\r\n    struct Job {\r\n        string title;\r\n        string description;\r\n        address employer;\r\n        string category;\r\n        string location;\r\n        string jobType;\r\n        uint256 minSalary;\r\n        uint256 maxSalary;\r\n        string requiredSkills;\r\n        string status;\r\n        uint256 postedAt;\r\n        uint256 applicationCount;\r\n        uint256 acceptedCount;\r\n        uint256 rejectedCount;\r\n        uint256 totalRating;\r\n        uint256 reviewCount;\r\n    }\r\n\r\n    struct Application {\r\n        address applicant;\r\n        uint256 jobId;\r\n        string coverLetter;\r\n        string status;\r\n        uint256 submittedAt;\r\n    }\r\n\r\n    struct Employer {\r\n        string companyName;\r\n        string companyURI;\r\n        uint256 jobsPosted;\r\n        uint256 registeredAt;\r\n    }\r\n\r\n    struct Review {\r\n        address reviewer;\r\n        uint256 rating;\r\n        string comment;\r\n        uint256 timestamp;\r\n    }\r\n\r\n    // ============ State Variables ============\r\n    uint256 private jobCounter;\r\n    uint256 private applicationCounter;\r\n\r\n    mapping(uint256 => Job) private jobs;\r\n    mapping(uint256 => Application) private applications;\r\n    mapping(address => Employer) private employers;\r\n    mapping(uint256 => uint256[]) private jobApplications;\r\n    mapping(address => uint256[]) private studentApplications;\r\n    mapping(address => uint256[]) private employerJobs;\r\n    mapping(uint256 => Review[]) private jobReviews;\r\n    mapping(string => uint256[]) private jobsByCategory;\r\n    mapping(string => uint256[]) private jobsByLocation;\r\n    mapping(address => bool) private authorizedMatchingServices;\r\n\r\n    // Statistics\r\n    uint256 private totalEmployers;\r\n\r\n    // ============ Modifiers ============\r\n    modifier onlyRegisteredEmployer(address employer) {\r\n        require(bytes(employers[employer].companyName).length > 0, \"JobBoard: Not registered employer\");\r\n        _;\r\n    }\r\n\r\n    modifier jobExists(uint256 jobId) {\r\n        require(jobId > 0 && jobId < jobCounter, \"JobBoard: Job does not exist\");\r\n        _;\r\n    }\r\n\r\n    modifier applicationExists(uint256 applicationId) {\r\n        require(applicationId > 0 && applicationId < applicationCounter, \"JobBoard: Application does not exist\");\r\n        _;\r\n    }\r\n\r\n    modifier onlyMatchingService() {\r\n        require(\r\n            authorizedMatchingServices[msg.sender] || msg.sender == owner(),\r\n            \"JobBoard: Not authorized matching service\"\r\n        );\r\n        _;\r\n    }\r\n\r\n    // ============ Constructor ============\r\n    constructor() Ownable(msg.sender) {\r\n        jobCounter = 1;\r\n        applicationCounter = 1;\r\n        totalEmployers = 0;\r\n    }\r\n\r\n    // ============ Core Functions ============\r\n    /**\r\n     * @notice Register as employer\r\n     */\r\n    function registerEmployer(\r\n        string calldata companyName,\r\n        string calldata companyURI\r\n    ) external {\r\n        require(bytes(companyName).length > 0, \"JobBoard: Company name required\");\r\n        require(bytes(employers[msg.sender].companyName).length == 0, \"JobBoard: Already registered\");\r\n\r\n        employers[msg.sender] = Employer({\r\n            companyName: companyName,\r\n            companyURI: companyURI,\r\n            jobsPosted: 0,\r\n            registeredAt: block.timestamp\r\n        });\r\n\r\n        totalEmployers++;\r\n\r\n        emit EmployerRegistered(msg.sender, companyName);\r\n    }\r\n\r\n    /**\r\n     * @notice Post a job\r\n     */\r\n    function postJob(\r\n        string calldata title,\r\n        string calldata description,\r\n        string calldata category,\r\n        string calldata location,\r\n        string calldata jobType,\r\n        uint256 minSalary,\r\n        uint256 maxSalary,\r\n        string calldata requiredSkills\r\n    ) \r\n        external \r\n        onlyRegisteredEmployer(msg.sender)\r\n        returns (uint256)\r\n    {\r\n        require(bytes(title).length > 0, \"JobBoard: Title required\");\r\n        require(minSalary <= maxSalary, \"JobBoard: Invalid salary range\");\r\n\r\n        uint256 jobId = jobCounter++;\r\n\r\n        jobs[jobId] = Job({\r\n            title: title,\r\n            description: description,\r\n            employer: msg.sender,\r\n            category: category,\r\n            location: location,\r\n            jobType: jobType,\r\n            minSalary: minSalary,\r\n            maxSalary: maxSalary,\r\n            requiredSkills: requiredSkills,\r\n            status: \"open\",\r\n            postedAt: block.timestamp,\r\n            applicationCount: 0,\r\n            acceptedCount: 0,\r\n            rejectedCount: 0,\r\n            totalRating: 0,\r\n            reviewCount: 0\r\n        });\r\n\r\n        employerJobs[msg.sender].push(jobId);\r\n        jobsByCategory[category].push(jobId);\r\n        jobsByLocation[location].push(jobId);\r\n        employers[msg.sender].jobsPosted++;\r\n\r\n        emit JobPosted(jobId, title, msg.sender, block.timestamp);\r\n\r\n        return jobId;\r\n    }\r\n\r\n    /**\r\n     * @notice Submit job application\r\n     */\r\n    function applyForJob(\r\n        uint256 jobId,\r\n        string calldata coverLetter\r\n    ) \r\n        external \r\n        jobExists(jobId)\r\n        returns (uint256)\r\n    {\r\n        require(bytes(coverLetter).length > 0, \"JobBoard: Cover letter required\");\r\n        require(\r\n            keccak256(bytes(jobs[jobId].status)) == keccak256(bytes(\"open\")),\r\n            \"JobBoard: Job is not open\"\r\n        );\r\n\r\n        uint256 applicationId = applicationCounter++;\r\n\r\n        applications[applicationId] = Application({\r\n            applicant: msg.sender,\r\n            jobId: jobId,\r\n            coverLetter: coverLetter,\r\n            status: \"submitted\",\r\n            submittedAt: block.timestamp\r\n        });\r\n\r\n        jobApplications[jobId].push(applicationId);\r\n        studentApplications[msg.sender].push(applicationId);\r\n        jobs[jobId].applicationCount++;\r\n\r\n        emit ApplicationSubmitted(jobId, msg.sender, applicationId, block.timestamp);\r\n\r\n        return applicationId;\r\n    }\r\n\r\n    /**\r\n     * @notice Update application status\r\n     */\r\n    function updateApplicationStatus(\r\n        uint256 applicationId,\r\n        string calldata status\r\n    ) \r\n        external \r\n        applicationExists(applicationId)\r\n    {\r\n        Application storage application = applications[applicationId];\r\n        require(\r\n            msg.sender == jobs[application.jobId].employer || msg.sender == owner(),\r\n            \"JobBoard: Only job employer can update\"\r\n        );\r\n\r\n        application.status = status;\r\n\r\n        // Update job statistics\r\n        if (keccak256(bytes(status)) == keccak256(bytes(\"accepted\"))) {\r\n            jobs[application.jobId].acceptedCount++;\r\n        } else if (keccak256(bytes(status)) == keccak256(bytes(\"rejected\"))) {\r\n            jobs[application.jobId].rejectedCount++;\r\n        }\r\n\r\n        emit ApplicationStatusUpdated(applicationId, status);\r\n    }\r\n\r\n    /**\r\n     * @notice Update job status\r\n     */\r\n    function updateJobStatus(uint256 jobId, string calldata status)\r\n        external\r\n        jobExists(jobId)\r\n    {\r\n        require(\r\n            msg.sender == jobs[jobId].employer || msg.sender == owner(),\r\n            \"JobBoard: Only job employer can update\"\r\n        );\r\n\r\n        jobs[jobId].status = status;\r\n\r\n        emit JobStatusUpdated(jobId, status);\r\n    }\r\n\r\n    /**\r\n     * @notice Submit review\r\n     */\r\n    function submitReview(\r\n        uint256 jobId,\r\n        uint256 rating,\r\n        string calldata comment\r\n    ) \r\n        external \r\n        jobExists(jobId)\r\n    {\r\n        require(rating >= 1 && rating <= 5, \"JobBoard: Rating must be 1-5\");\r\n\r\n        jobReviews[jobId].push(Review({\r\n            reviewer: msg.sender,\r\n            rating: rating,\r\n            comment: comment,\r\n            timestamp: block.timestamp\r\n        }));\r\n\r\n        jobs[jobId].totalRating += rating;\r\n        jobs[jobId].reviewCount++;\r\n\r\n        emit ReviewSubmitted(jobId, msg.sender, rating);\r\n    }\r\n\r\n    /**\r\n     * @notice Authorize matching service\r\n     */\r\n    function authorizeMatchingService(address service) external onlyOwner {\r\n        require(service != address(0), \"JobBoard: Invalid service address\");\r\n        authorizedMatchingServices[service] = true;\r\n    }\r\n\r\n    /**\r\n     * @notice Revoke matching service\r\n     */\r\n    function revokeMatchingService(address service) external onlyOwner {\r\n        require(service != address(0), \"JobBoard: Invalid service address\");\r\n        authorizedMatchingServices[service] = false;\r\n    }\r\n\r\n    // ============ Query Functions ============\r\n    /**\r\n     * @notice Get job details\r\n     */\r\n    function getJobDetails(uint256 jobId)\r\n        external\r\n        view\r\n        jobExists(jobId)\r\n        returns (\r\n            string memory title,\r\n            string memory description,\r\n            address employer,\r\n            string memory category,\r\n            string memory location,\r\n            string memory jobType,\r\n            uint256 minSalary,\r\n            uint256 maxSalary,\r\n            string memory requiredSkills,\r\n            string memory status,\r\n            uint256 postedAt,\r\n            uint256 applicationCount\r\n        )\r\n    {\r\n        Job memory job = jobs[jobId];\r\n        return (\r\n            job.title,\r\n            job.description,\r\n            job.employer,\r\n            job.category,\r\n            job.location,\r\n            job.jobType,\r\n            job.minSalary,\r\n            job.maxSalary,\r\n            job.requiredSkills,\r\n            job.status,\r\n            job.postedAt,\r\n            job.applicationCount\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get application details\r\n     */\r\n    function getApplicationDetails(uint256 applicationId)\r\n        external\r\n        view\r\n        applicationExists(applicationId)\r\n        returns (\r\n            address applicant,\r\n            uint256 jobId,\r\n            string memory coverLetter,\r\n            string memory status,\r\n            uint256 submittedAt\r\n        )\r\n    {\r\n        Application memory application = applications[applicationId];\r\n        return (\r\n            application.applicant,\r\n            application.jobId,\r\n            application.coverLetter,\r\n            application.status,\r\n            application.submittedAt\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get employer info\r\n     */\r\n    function getEmployerInfo(address employer)\r\n        external\r\n        view\r\n        returns (\r\n            string memory companyName,\r\n            string memory companyURI,\r\n            uint256 jobsPosted,\r\n            uint256 registeredAt\r\n        )\r\n    {\r\n        Employer memory emp = employers[employer];\r\n        return (\r\n            emp.companyName,\r\n            emp.companyURI,\r\n            emp.jobsPosted,\r\n            emp.registeredAt\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get job applications\r\n     */\r\n    function getJobApplications(uint256 jobId)\r\n        external\r\n        view\r\n        jobExists(jobId)\r\n        returns (uint256[] memory)\r\n    {\r\n        return jobApplications[jobId];\r\n    }\r\n\r\n    /**\r\n     * @notice Get student applications\r\n     */\r\n    function getStudentApplications(address student)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        return studentApplications[student];\r\n    }\r\n\r\n    /**\r\n     * @notice Get employer jobs\r\n     */\r\n    function getEmployerJobs(address employer)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        return employerJobs[employer];\r\n    }\r\n\r\n    /**\r\n     * @notice Check if registered employer\r\n     */\r\n    function isRegisteredEmployer(address employer)\r\n        external\r\n        view\r\n        returns (bool)\r\n    {\r\n        return bytes(employers[employer].companyName).length > 0;\r\n    }\r\n\r\n    /**\r\n     * @notice Get job reviews\r\n     */\r\n    function getJobReviews(uint256 jobId)\r\n        external\r\n        view\r\n        jobExists(jobId)\r\n        returns (\r\n            address[] memory reviewers,\r\n            uint256[] memory ratings,\r\n            string[] memory comments,\r\n            uint256[] memory timestamps\r\n        )\r\n    {\r\n        Review[] memory reviews = jobReviews[jobId];\r\n        uint256 length = reviews.length;\r\n\r\n        address[] memory rev = new address[](length);\r\n        uint256[] memory rat = new uint256[](length);\r\n        string[] memory com = new string[](length);\r\n        uint256[] memory times = new uint256[](length);\r\n\r\n        for (uint256 i = 0; i < length; i++) {\r\n            rev[i] = reviews[i].reviewer;\r\n            rat[i] = reviews[i].rating;\r\n            com[i] = reviews[i].comment;\r\n            times[i] = reviews[i].timestamp;\r\n        }\r\n\r\n        return (rev, rat, com, times);\r\n    }\r\n\r\n    /**\r\n     * @notice Get job stats\r\n     */\r\n    function getJobStats(uint256 jobId)\r\n        external\r\n        view\r\n        jobExists(jobId)\r\n        returns (\r\n            uint256 applicationCount,\r\n            uint256 acceptedCount,\r\n            uint256 rejectedCount,\r\n            uint256 averageRating\r\n        )\r\n    {\r\n        Job memory job = jobs[jobId];\r\n        uint256 avgRating = job.reviewCount > 0 ? (job.totalRating * 100) / job.reviewCount : 0;\r\n\r\n        return (\r\n            job.applicationCount,\r\n            job.acceptedCount,\r\n            job.rejectedCount,\r\n            avgRating\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get total jobs\r\n     */\r\n    function getTotalJobsPosted() external view returns (uint256) {\r\n        return jobCounter - 1;\r\n    }\r\n\r\n    /**\r\n     * @notice Get total applications\r\n     */\r\n    function getTotalApplications() external view returns (uint256) {\r\n        return applicationCounter - 1;\r\n    }\r\n\r\n    /**\r\n     * @notice Get total employers\r\n     */\r\n    function getTotalEmployers() external view returns (uint256) {\r\n        return totalEmployers;\r\n    }\r\n\r\n    /**\r\n     * @notice Get jobs by category\r\n     */\r\n    function getJobsByCategory(string calldata category)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        return jobsByCategory[category];\r\n    }\r\n\r\n    /**\r\n     * @notice Get jobs by location\r\n     */\r\n    function getJobsByLocation(string calldata location)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        return jobsByLocation[location];\r\n    }\r\n\r\n    /**\r\n     * @notice Get job matches (placeholder for AI matching service)\r\n     */\r\n    function getJobMatches(address student, uint256 limit)\r\n        external\r\n        view\r\n        onlyMatchingService\r\n        returns (uint256[] memory jobIds, uint256[] memory scores)\r\n    {\r\n        // This would be populated by the matching service\r\n        uint256[] memory emptyJobs = new uint256[](0);\r\n        uint256[] memory emptyScores = new uint256[](0);\r\n        return (emptyJobs, emptyScores);\r\n    }\r\n}\r\n"
    },
    "contracts/modules/014-internship/IInternshipManager.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\n/**\r\n * @title IInternshipManager\r\n * @dev Interface for internship program management\r\n */\r\ninterface IInternshipManager {\r\n    // ============ Events ============\r\n    event InternshipCreated(\r\n        uint256 indexed internshipId,\r\n        string title,\r\n        address indexed company,\r\n        uint256 startDate,\r\n        uint256 endDate\r\n    );\r\n\r\n    event InternApplicationSubmitted(\r\n        uint256 indexed internshipId,\r\n        address indexed intern,\r\n        uint256 applicationId\r\n    );\r\n\r\n    event InternshipOfferExtended(\r\n        uint256 indexed applicationId,\r\n        address indexed intern,\r\n        uint256 offerExpiry\r\n    );\r\n\r\n    event InternshipStarted(\r\n        uint256 indexed internshipId,\r\n        address indexed intern,\r\n        uint256 startedAt\r\n    );\r\n\r\n    event InternshipCompleted(\r\n        uint256 indexed internshipId,\r\n        address indexed intern,\r\n        uint256 completedAt\r\n    );\r\n\r\n    event MentorAssigned(\r\n        uint256 indexed internshipId,\r\n        address indexed intern,\r\n        address indexed mentor\r\n    );\r\n\r\n    event PerformanceEvaluated(\r\n        uint256 indexed internshipId,\r\n        address indexed intern,\r\n        uint256 score,\r\n        uint256 evaluatedAt\r\n    );\r\n\r\n    event MilestoneCompleted(\r\n        uint256 indexed internshipId,\r\n        address indexed intern,\r\n        string milestoneName,\r\n        uint256 completedAt\r\n    );\r\n\r\n    event CertificateIssued(\r\n        uint256 indexed internshipId,\r\n        address indexed intern,\r\n        string certificateURI\r\n    );\r\n\r\n    // ============ Mutations ============\r\n    /**\r\n     * @notice Create internship program\r\n     * @param title Internship title\r\n     * @param description Program description\r\n     * @param startDate Program start date\r\n     * @param endDate Program end date\r\n     * @param mentorRequired Whether mentor is required\r\n     * @param minGPA Minimum GPA requirement\r\n     * @param description Detailed program description\r\n     * @return internshipId ID of internship program\r\n     */\r\n    function createInternship(\r\n        string calldata title,\r\n        string calldata description,\r\n        uint256 startDate,\r\n        uint256 endDate,\r\n        bool mentorRequired,\r\n        uint256 minGPA,\r\n        uint256 maxPositions\r\n    ) external returns (uint256);\r\n\r\n    /**\r\n     * @notice Apply for internship\r\n     * @param internshipId Internship ID\r\n     * @param motivationLetter Motivation letter\r\n     */\r\n    function applyForInternship(\r\n        uint256 internshipId,\r\n        string calldata motivationLetter\r\n    ) external returns (uint256);\r\n\r\n    /**\r\n     * @notice Extend internship offer\r\n     * @param applicationId Application ID\r\n     * @param stipend Monthly stipend (if any)\r\n     * @param offerValidDays Days for offer validity\r\n     */\r\n    function extendOffer(\r\n        uint256 applicationId,\r\n        uint256 stipend,\r\n        uint256 offerValidDays\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Accept internship offer\r\n     * @param applicationId Application ID\r\n     */\r\n    function acceptOffer(uint256 applicationId) external;\r\n\r\n    /**\r\n     * @notice Start internship\r\n     * @param applicationId Application ID\r\n     */\r\n    function startInternship(uint256 applicationId) external;\r\n\r\n    /**\r\n     * @notice Complete internship\r\n     * @param applicationId Application ID\r\n     * @param certificateURI IPFS URI for completion certificate\r\n     */\r\n    function completeInternship(\r\n        uint256 applicationId,\r\n        string calldata certificateURI\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Assign mentor\r\n     * @param applicationId Application ID\r\n     * @param mentor Mentor address\r\n     */\r\n    function assignMentor(uint256 applicationId, address mentor) external;\r\n\r\n    /**\r\n     * @notice Submit performance evaluation\r\n     * @param applicationId Application ID\r\n     * @param score Performance score (1-100)\r\n     * @param feedback Evaluation feedback\r\n     */\r\n    function evaluatePerformance(\r\n        uint256 applicationId,\r\n        uint256 score,\r\n        string calldata feedback\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Record milestone completion\r\n     * @param applicationId Application ID\r\n     * @param milestoneName Milestone name\r\n     */\r\n    function recordMilestone(\r\n        uint256 applicationId,\r\n        string calldata milestoneName\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Add internship requirement\r\n     * @param internshipId Internship ID\r\n     * @param requirement Requirement description\r\n     */\r\n    function addRequirement(\r\n        uint256 internshipId,\r\n        string calldata requirement\r\n    ) external;\r\n\r\n    // ============ Queries ============\r\n    /**\r\n     * @notice Get internship details\r\n     * @param internshipId Internship ID\r\n     */\r\n    function getInternshipDetails(uint256 internshipId)\r\n        external\r\n        view\r\n        returns (\r\n            string memory title,\r\n            string memory description,\r\n            address company,\r\n            uint256 startDate,\r\n            uint256 endDate,\r\n            bool mentorRequired,\r\n            uint256 minGPA,\r\n            uint256 maxPositions,\r\n            uint256 filledPositions,\r\n            string memory status\r\n        );\r\n\r\n    /**\r\n     * @notice Get application status\r\n     * @param applicationId Application ID\r\n     */\r\n    function getApplicationStatus(uint256 applicationId)\r\n        external\r\n        view\r\n        returns (\r\n            address intern,\r\n            uint256 internshipId,\r\n            string memory status,\r\n            uint256 submittedAt,\r\n            uint256 offerExpiry\r\n        );\r\n\r\n    /**\r\n     * @notice Get intern progress\r\n     * @param applicationId Application ID\r\n     */\r\n    function getInternProgress(uint256 applicationId)\r\n        external\r\n        view\r\n        returns (\r\n            address mentor,\r\n            uint256 performanceScore,\r\n            uint256 companionedMilestonesCount,\r\n            string memory evaluationFeedback,\r\n            string memory certificateURI\r\n        );\r\n\r\n    /**\r\n     * @notice Get internship applications\r\n     * @param internshipId Internship ID\r\n     */\r\n    function getInternshipApplications(uint256 internshipId)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Get intern applications\r\n     * @param intern Intern address\r\n     */\r\n    function getInternApplications(address intern)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Get company internships\r\n     * @param company Company address\r\n     */\r\n    function getCompanyInternships(address company)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Get total internships\r\n     */\r\n    function getTotalInternships() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Get total applications\r\n     */\r\n    function getTotalInternApplications() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Get internship requirements\r\n     * @param internshipId Internship ID\r\n     */\r\n    function getInternshipRequirements(uint256 internshipId)\r\n        external\r\n        view\r\n        returns (string[] memory);\r\n\r\n    /**\r\n     * @notice Get intern milestones\r\n     * @param applicationId Application ID\r\n     */\r\n    function getInternMilestones(uint256 applicationId)\r\n        external\r\n        view\r\n        returns (string[] memory milestones, uint256[] memory completedDates);\r\n}\r\n"
    },
    "contracts/modules/014-internship/InternshipManager.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\nimport {Ownable} from \"@openzeppelin/contracts/access/Ownable.sol\";\r\nimport {IInternshipManager} from \"./IInternshipManager.sol\";\r\n\r\n/**\r\n * @title InternshipManager\r\n * @dev Manages internship programs and tracking\r\n */\r\ncontract InternshipManager is Ownable, IInternshipManager {\r\n    // ============ Data Structures ============\r\n    struct Internship {\r\n        string title;\r\n        string description;\r\n        address company;\r\n        uint256 startDate;\r\n        uint256 endDate;\r\n        bool mentorRequired;\r\n        uint256 minGPA;\r\n        uint256 maxPositions;\r\n        uint256 filledPositions;\r\n        string status;\r\n        uint256 createdAt;\r\n    }\r\n\r\n    struct InternApplication {\r\n        address intern;\r\n        uint256 internshipId;\r\n        string motivationLetter;\r\n        string status;\r\n        uint256 submittedAt;\r\n        uint256 offerExpiry;\r\n        uint256 stipend;\r\n    }\r\n\r\n    struct InternProgress {\r\n        address mentor;\r\n        uint256 performanceScore;\r\n        uint256 milestonesCompleted;\r\n        string evaluationFeedback;\r\n        string certificateURI;\r\n        uint256 completedAt;\r\n    }\r\n\r\n    // ============ State Variables ============\r\n    uint256 private internshipCounter;\r\n    uint256 private applicationCounter;\r\n\r\n    mapping(uint256 => Internship) private internships;\r\n    mapping(uint256 => InternApplication) private applications;\r\n    mapping(uint256 => InternProgress) private progress;\r\n    mapping(uint256 => uint256[]) private internshipApplications;\r\n    mapping(address => uint256[]) private internApplications;\r\n    mapping(address => uint256[]) private companyInternships;\r\n    mapping(uint256 => string[]) private internshipRequirements;\r\n    mapping(uint256 => mapping(uint256 => string)) private internMilestones;\r\n    mapping(uint256 => mapping(uint256 => uint256)) private milestoneDates;\r\n    mapping(uint256 => uint256) private milestoneCounts;\r\n\r\n    // ============ Modifiers ============\r\n    modifier internshipExists(uint256 internshipId) {\r\n        require(internshipId > 0 && internshipId < internshipCounter, \r\n            \"InternshipManager: Internship does not exist\"\r\n        );\r\n        _;\r\n    }\r\n\r\n    modifier applicationExists(uint256 applicationId) {\r\n        require(applicationId > 0 && applicationId < applicationCounter,\r\n            \"InternshipManager: Application does not exist\"\r\n        );\r\n        _;\r\n    }\r\n\r\n    // ============ Constructor ============\r\n    constructor() Ownable(msg.sender) {\r\n        internshipCounter = 1;\r\n        applicationCounter = 1;\r\n    }\r\n\r\n    // ============ Core Functions ============\r\n    /**\r\n     * @notice Create internship\r\n     */\r\n    function createInternship(\r\n        string calldata title,\r\n        string calldata description,\r\n        uint256 startDate,\r\n        uint256 endDate,\r\n        bool mentorRequired,\r\n        uint256 minGPA,\r\n        uint256 maxPositions\r\n    ) external returns (uint256) {\r\n        require(bytes(title).length > 0, \"InternshipManager: Title required\");\r\n        require(startDate < endDate, \"InternshipManager: Invalid dates\");\r\n        require(maxPositions > 0, \"InternshipManager: Max positions must be > 0\");\r\n\r\n        uint256 internshipId = internshipCounter++;\r\n\r\n        internships[internshipId] = Internship({\r\n            title: title,\r\n            description: description,\r\n            company: msg.sender,\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n            mentorRequired: mentorRequired,\r\n            minGPA: minGPA,\r\n            maxPositions: maxPositions,\r\n            filledPositions: 0,\r\n            status: \"open\",\r\n            createdAt: block.timestamp\r\n        });\r\n\r\n        companyInternships[msg.sender].push(internshipId);\r\n\r\n        emit InternshipCreated(internshipId, title, msg.sender, startDate, endDate);\r\n\r\n        return internshipId;\r\n    }\r\n\r\n    /**\r\n     * @notice Apply for internship\r\n     */\r\n    function applyForInternship(\r\n        uint256 internshipId,\r\n        string calldata motivationLetter\r\n    ) external internshipExists(internshipId) returns (uint256) {\r\n        require(bytes(motivationLetter).length > 0, \"InternshipManager: Letter required\");\r\n        require(\r\n            keccak256(bytes(internships[internshipId].status)) == keccak256(bytes(\"open\")),\r\n            \"InternshipManager: Internship not open\"\r\n        );\r\n\r\n        uint256 applicationId = applicationCounter++;\r\n\r\n        applications[applicationId] = InternApplication({\r\n            intern: msg.sender,\r\n            internshipId: internshipId,\r\n            motivationLetter: motivationLetter,\r\n            status: \"submitted\",\r\n            submittedAt: block.timestamp,\r\n            offerExpiry: 0,\r\n            stipend: 0\r\n        });\r\n\r\n        internshipApplications[internshipId].push(applicationId);\r\n        internApplications[msg.sender].push(applicationId);\r\n\r\n        emit InternApplicationSubmitted(internshipId, msg.sender, applicationId);\r\n\r\n        return applicationId;\r\n    }\r\n\r\n    /**\r\n     * @notice Extend offer\r\n     */\r\n    function extendOffer(\r\n        uint256 applicationId,\r\n        uint256 stipend,\r\n        uint256 offerValidDays\r\n    ) external applicationExists(applicationId) {\r\n        InternApplication storage app = applications[applicationId];\r\n        require(\r\n            msg.sender == internships[app.internshipId].company || msg.sender == owner(),\r\n            \"InternshipManager: Only company can extend offer\"\r\n        );\r\n\r\n        app.status = \"offered\";\r\n        app.stipend = stipend;\r\n        app.offerExpiry = block.timestamp + (offerValidDays * 1 days);\r\n\r\n        emit InternshipOfferExtended(applicationId, app.intern, app.offerExpiry);\r\n    }\r\n\r\n    /**\r\n     * @notice Accept offer\r\n     */\r\n    function acceptOffer(uint256 applicationId)\r\n        external\r\n        applicationExists(applicationId)\r\n    {\r\n        InternApplication storage app = applications[applicationId];\r\n        require(app.intern == msg.sender, \"InternshipManager: Only applicant can accept\");\r\n        require(\r\n            keccak256(bytes(app.status)) == keccak256(bytes(\"offered\")),\r\n            \"InternshipManager: No active offer\"\r\n        );\r\n        require(block.timestamp < app.offerExpiry, \"InternshipManager: Offer expired\");\r\n\r\n        app.status = \"accepted\";\r\n        internships[app.internshipId].filledPositions++;\r\n    }\r\n\r\n    /**\r\n     * @notice Start internship\r\n     */\r\n    function startInternship(uint256 applicationId)\r\n        external\r\n        applicationExists(applicationId)\r\n    {\r\n        InternApplication storage app = applications[applicationId];\r\n        require(\r\n            msg.sender == internships[app.internshipId].company || msg.sender == owner(),\r\n            \"InternshipManager: Only company can start\"\r\n        );\r\n\r\n        app.status = \"active\";\r\n\r\n        emit InternshipStarted(app.internshipId, app.intern, block.timestamp);\r\n    }\r\n\r\n    /**\r\n     * @notice Complete internship\r\n     */\r\n    function completeInternship(\r\n        uint256 applicationId,\r\n        string calldata certificateURI\r\n    ) external applicationExists(applicationId) {\r\n        InternApplication storage app = applications[applicationId];\r\n        require(\r\n            msg.sender == internships[app.internshipId].company || msg.sender == owner(),\r\n            \"InternshipManager: Only company can complete\"\r\n        );\r\n\r\n        app.status = \"completed\";\r\n        progress[applicationId].certificateURI = certificateURI;\r\n        progress[applicationId].completedAt = block.timestamp;\r\n\r\n        emit InternshipCompleted(app.internshipId, app.intern, block.timestamp);\r\n        emit CertificateIssued(app.internshipId, app.intern, certificateURI);\r\n    }\r\n\r\n    /**\r\n     * @notice Assign mentor\r\n     */\r\n    function assignMentor(uint256 applicationId, address mentor)\r\n        external\r\n        applicationExists(applicationId)\r\n    {\r\n        InternApplication storage app = applications[applicationId];\r\n        require(\r\n            msg.sender == internships[app.internshipId].company || msg.sender == owner(),\r\n            \"InternshipManager: Only company can assign\"\r\n        );\r\n\r\n        progress[applicationId].mentor = mentor;\r\n\r\n        emit MentorAssigned(app.internshipId, app.intern, mentor);\r\n    }\r\n\r\n    /**\r\n     * @notice Evaluate performance\r\n     */\r\n    function evaluatePerformance(\r\n        uint256 applicationId,\r\n        uint256 score,\r\n        string calldata feedback\r\n    ) external applicationExists(applicationId) {\r\n        require(score >= 0 && score <= 100, \"InternshipManager: Score 0-100\");\r\n\r\n        InternApplication storage app = applications[applicationId];\r\n        require(\r\n            msg.sender == internships[app.internshipId].company || msg.sender == owner(),\r\n            \"InternshipManager: Only company can evaluate\"\r\n        );\r\n\r\n        progress[applicationId].performanceScore = score;\r\n        progress[applicationId].evaluationFeedback = feedback;\r\n\r\n        emit PerformanceEvaluated(app.internshipId, app.intern, score, block.timestamp);\r\n    }\r\n\r\n    /**\r\n     * @notice Record milestone\r\n     */\r\n    function recordMilestone(\r\n        uint256 applicationId,\r\n        string calldata milestoneName\r\n    ) external applicationExists(applicationId) {\r\n        InternApplication storage app = applications[applicationId];\r\n        require(\r\n            msg.sender == internships[app.internshipId].company || msg.sender == owner(),\r\n            \"InternshipManager: Only company can record\"\r\n        );\r\n\r\n        uint256 count = milestoneCounts[applicationId];\r\n        internMilestones[applicationId][count] = milestoneName;\r\n        milestoneDates[applicationId][count] = block.timestamp;\r\n        milestoneCounts[applicationId]++;\r\n        progress[applicationId].milestonesCompleted++;\r\n\r\n        emit MilestoneCompleted(app.internshipId, app.intern, milestoneName, block.timestamp);\r\n    }\r\n\r\n    /**\r\n     * @notice Add requirement\r\n     */\r\n    function addRequirement(\r\n        uint256 internshipId,\r\n        string calldata requirement\r\n    ) external internshipExists(internshipId) {\r\n        require(\r\n            msg.sender == internships[internshipId].company || msg.sender == owner(),\r\n            \"InternshipManager: Only company can add\"\r\n        );\r\n\r\n        internshipRequirements[internshipId].push(requirement);\r\n    }\r\n\r\n    // ============ Query Functions ============\r\n    /**\r\n     * @notice Get internship details\r\n     */\r\n    function getInternshipDetails(uint256 internshipId)\r\n        external\r\n        view\r\n        internshipExists(internshipId)\r\n        returns (\r\n            string memory title,\r\n            string memory description,\r\n            address company,\r\n            uint256 startDate,\r\n            uint256 endDate,\r\n            bool mentorRequired,\r\n            uint256 minGPA,\r\n            uint256 maxPositions,\r\n            uint256 filledPositions,\r\n            string memory status\r\n        )\r\n    {\r\n        Internship memory internship = internships[internshipId];\r\n        return (\r\n            internship.title,\r\n            internship.description,\r\n            internship.company,\r\n            internship.startDate,\r\n            internship.endDate,\r\n            internship.mentorRequired,\r\n            internship.minGPA,\r\n            internship.maxPositions,\r\n            internship.filledPositions,\r\n            internship.status\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get application status\r\n     */\r\n    function getApplicationStatus(uint256 applicationId)\r\n        external\r\n        view\r\n        applicationExists(applicationId)\r\n        returns (\r\n            address intern,\r\n            uint256 internshipId,\r\n            string memory status,\r\n            uint256 submittedAt,\r\n            uint256 offerExpiry\r\n        )\r\n    {\r\n        InternApplication memory app = applications[applicationId];\r\n        return (\r\n            app.intern,\r\n            app.internshipId,\r\n            app.status,\r\n            app.submittedAt,\r\n            app.offerExpiry\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get intern progress\r\n     */\r\n    function getInternProgress(uint256 applicationId)\r\n        external\r\n        view\r\n        applicationExists(applicationId)\r\n        returns (\r\n            address mentor,\r\n            uint256 performanceScore,\r\n            uint256 milestonesCount,\r\n            string memory evaluationFeedback,\r\n            string memory certificateURI\r\n        )\r\n    {\r\n        InternProgress memory prog = progress[applicationId];\r\n        return (\r\n            prog.mentor,\r\n            prog.performanceScore,\r\n            prog.milestonesCompleted,\r\n            prog.evaluationFeedback,\r\n            prog.certificateURI\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get internship applications\r\n     */\r\n    function getInternshipApplications(uint256 internshipId)\r\n        external\r\n        view\r\n        internshipExists(internshipId)\r\n        returns (uint256[] memory)\r\n    {\r\n        return internshipApplications[internshipId];\r\n    }\r\n\r\n    /**\r\n     * @notice Get intern applications\r\n     */\r\n    function getInternApplications(address intern)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        return internApplications[intern];\r\n    }\r\n\r\n    /**\r\n     * @notice Get company internships\r\n     */\r\n    function getCompanyInternships(address company)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        return companyInternships[company];\r\n    }\r\n\r\n    /**\r\n     * @notice Get total internships\r\n     */\r\n    function getTotalInternships() external view returns (uint256) {\r\n        return internshipCounter - 1;\r\n    }\r\n\r\n    /**\r\n     * @notice Get total applications\r\n     */\r\n    function getTotalInternApplications() external view returns (uint256) {\r\n        return applicationCounter - 1;\r\n    }\r\n\r\n    /**\r\n     * @notice Get internship requirements\r\n     */\r\n    function getInternshipRequirements(uint256 internshipId)\r\n        external\r\n        view\r\n        internshipExists(internshipId)\r\n        returns (string[] memory)\r\n    {\r\n        return internshipRequirements[internshipId];\r\n    }\r\n\r\n    /**\r\n     * @notice Get intern milestones\r\n     */\r\n    function getInternMilestones(uint256 applicationId)\r\n        external\r\n        view\r\n        applicationExists(applicationId)\r\n        returns (string[] memory milestones, uint256[] memory completedDates)\r\n    {\r\n        uint256 count = milestoneCounts[applicationId];\r\n        string[] memory ms = new string[](count);\r\n        uint256[] memory dates = new uint256[](count);\r\n\r\n        for (uint256 i = 0; i < count; i++) {\r\n            ms[i] = internMilestones[applicationId][i];\r\n            dates[i] = milestoneDates[applicationId][i];\r\n        }\r\n\r\n        return (ms, dates);\r\n    }\r\n}\r\n"
    },
    "contracts/modules/015-research/ResearchCollaborationPlatform.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\nimport {Ownable} from \"@openzeppelin/contracts/access/Ownable.sol\";\r\n\r\n/**\r\n * @title ResearchCollaborationPlatform\r\n * @dev Module 015: Research collaboration management\r\n */\r\ncontract ResearchCollaborationPlatform is Ownable {\r\n    struct ResearchProject {\r\n        uint256 projectId;\r\n        string title;\r\n        string description;\r\n        address principalInvestigator;\r\n        uint256 startDate;\r\n        uint256 endDate;\r\n        string status;\r\n        uint256 teamSize;\r\n    }\r\n\r\n    struct Researcher {\r\n        address researcherAddr;\r\n        string name;\r\n        string[] specializations;\r\n        uint256 projectsCompleted;\r\n        uint256 publishedPapers;\r\n    }\r\n\r\n    uint256 private projectCounter;\r\n    mapping(uint256 => ResearchProject) private projects;\r\n    mapping(address => Researcher) private researchers;\r\n    mapping(uint256 => address[]) private projectTeams;\r\n    mapping(address => uint256[]) private researcherProjects;\r\n\r\n    event ProjectCreated(uint256 indexed projectId, string title, address pi);\r\n    event TeamMemberAdded(uint256 indexed projectId, address indexed member);\r\n    event ProjectCompleted(uint256 indexed projectId);\r\n    event PaperPublished(address indexed researcher, uint256 indexed projectId);\r\n\r\n    constructor() Ownable(msg.sender) {\r\n        projectCounter = 1;\r\n    }\r\n\r\n    function createResearchProject(\r\n        string calldata title,\r\n        string calldata description,\r\n        uint256 startDate,\r\n        uint256 endDate,\r\n        uint256 teamSize\r\n    ) external returns (uint256) {\r\n        require(startDate < endDate, \"Invalid dates\");\r\n        \r\n        uint256 projectId = projectCounter++;\r\n        projects[projectId] = ResearchProject({\r\n            projectId: projectId,\r\n            title: title,\r\n            description: description,\r\n            principalInvestigator: msg.sender,\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n            status: \"active\",\r\n            teamSize: teamSize\r\n        });\r\n\r\n        researcherProjects[msg.sender].push(projectId);\r\n        emit ProjectCreated(projectId, title, msg.sender);\r\n        return projectId;\r\n    }\r\n\r\n    function addTeamMember(uint256 projectId, address member) external {\r\n        require(projects[projectId].principalInvestigator == msg.sender, \"Not PI\");\r\n        projectTeams[projectId].push(member);\r\n        researcherProjects[member].push(projectId);\r\n        emit TeamMemberAdded(projectId, member);\r\n    }\r\n\r\n    function completeProject(uint256 projectId) external {\r\n        require(projects[projectId].principalInvestigator == msg.sender, \"Not PI\");\r\n        projects[projectId].status = \"completed\";\r\n        emit ProjectCompleted(projectId);\r\n    }\r\n\r\n    function publishPaper(uint256 projectId) external {\r\n        require(projectId > 0 && projectId < projectCounter, \"Invalid project\");\r\n        researchers[msg.sender].publishedPapers++;\r\n        emit PaperPublished(msg.sender, projectId);\r\n    }\r\n\r\n    function getTotalProjects() external view returns (uint256) {\r\n        return projectCounter - 1;\r\n    }\r\n\r\n    function getResearcherStats(address researcher)\r\n        external\r\n        view\r\n        returns (uint256 projectsCompleted, uint256 papers)\r\n    {\r\n        return (researchers[researcher].projectsCompleted, researchers[researcher].publishedPapers);\r\n    }\r\n}\r\n"
    },
    "contracts/modules/016-auditing/SmartContractAuditingSystem.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\nimport {Ownable} from \"@openzeppelin/contracts/access/Ownable.sol\";\r\n\r\n/**\r\n * @title SmartContractAuditingSystem\r\n * @dev Module 016: Smart contract auditing and verification\r\n */\r\ncontract SmartContractAuditingSystem is Ownable {\r\n    struct Audit {\r\n        uint256 auditId;\r\n        address contractAddress;\r\n        address auditor;\r\n        string status;\r\n        uint256 auditDate;\r\n        uint256 criticalIssues;\r\n        uint256 mediumIssues;\r\n        uint256 lowIssues;\r\n    }\r\n\r\n    struct AuditReport {\r\n        uint256 auditId;\r\n        string reportHash;\r\n        string findings;\r\n        uint256 timestamp;\r\n    }\r\n\r\n    uint256 private auditCounter;\r\n    mapping(uint256 => Audit) private audits;\r\n    mapping(uint256 => AuditReport) private reports;\r\n    mapping(address => bool) private authorizedAuditors;\r\n    mapping(address => uint256[]) private contractAudits;\r\n\r\n    event AuditCreated(uint256 indexed auditId, address indexed contract_, address indexed auditor);\r\n    event AuditReportSubmitted(uint256 indexed auditId, string reportHash);\r\n    event AuditCompleted(uint256 indexed auditId, uint256 criticalIssues);\r\n\r\n    constructor() Ownable(msg.sender) {\r\n        auditCounter = 1;\r\n        authorizedAuditors[msg.sender] = true;\r\n    }\r\n\r\n    function authorizeAuditor(address auditor) external onlyOwner {\r\n        authorizedAuditors[auditor] = true;\r\n    }\r\n\r\n    function createAudit(\r\n        address contractAddress,\r\n        uint256 criticalIssues,\r\n        uint256 mediumIssues,\r\n        uint256 lowIssues\r\n    ) external returns (uint256) {\r\n        require(authorizedAuditors[msg.sender], \"Not authorized auditor\");\r\n        \r\n        uint256 auditId = auditCounter++;\r\n        audits[auditId] = Audit({\r\n            auditId: auditId,\r\n            contractAddress: contractAddress,\r\n            auditor: msg.sender,\r\n            status: \"in_progress\",\r\n            auditDate: block.timestamp,\r\n            criticalIssues: criticalIssues,\r\n            mediumIssues: mediumIssues,\r\n            lowIssues: lowIssues\r\n        });\r\n\r\n        contractAudits[contractAddress].push(auditId);\r\n        emit AuditCreated(auditId, contractAddress, msg.sender);\r\n        return auditId;\r\n    }\r\n\r\n    function submitReport(\r\n        uint256 auditId,\r\n        string calldata reportHash,\r\n        string calldata findings\r\n    ) external {\r\n        require(audits[auditId].auditor == msg.sender, \"Not audit owner\");\r\n        \r\n        reports[auditId] = AuditReport({\r\n            auditId: auditId,\r\n            reportHash: reportHash,\r\n            findings: findings,\r\n            timestamp: block.timestamp\r\n        });\r\n\r\n        audits[auditId].status = \"completed\";\r\n        emit AuditReportSubmitted(auditId, reportHash);\r\n        emit AuditCompleted(auditId, audits[auditId].criticalIssues);\r\n    }\r\n\r\n    function getAuditDetails(uint256 auditId)\r\n        external\r\n        view\r\n        returns (\r\n            address contractAddr,\r\n            address auditor,\r\n            string memory status,\r\n            uint256 criticalIssues,\r\n            uint256 mediumIssues,\r\n            uint256 lowIssues\r\n        )\r\n    {\r\n        Audit memory audit = audits[auditId];\r\n        return (\r\n            audit.contractAddress,\r\n            audit.auditor,\r\n            audit.status,\r\n            audit.criticalIssues,\r\n            audit.mediumIssues,\r\n            audit.lowIssues\r\n        );\r\n    }\r\n\r\n    function getTotalAudits() external view returns (uint256) {\r\n        return auditCounter - 1;\r\n    }\r\n}\r\n"
    },
    "contracts/modules/017-integration/DataMigrationAndIntegration.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\nimport {Ownable} from \"@openzeppelin/contracts/access/Ownable.sol\";\r\n\r\n/**\r\n * @title DataMigrationAndIntegration\r\n * @dev Module 017: Data migration and integration tools\r\n */\r\ncontract DataMigrationAndIntegration is Ownable {\r\n    struct MigrationTask {\r\n        uint256 taskId;\r\n        string dataType;\r\n        address sourceSystem;\r\n        address destinationSystem;\r\n        uint256 recordCount;\r\n        string status;\r\n        uint256 createdAt;\r\n        uint256 completedAt;\r\n    }\r\n\r\n    struct IntegrationMapping {\r\n        uint256 mappingId;\r\n        string sourceField;\r\n        string destinationField;\r\n        string transformationRules;\r\n    }\r\n\r\n    uint256 private taskCounter;\r\n    uint256 private mappingCounter;\r\n    mapping(uint256 => MigrationTask) private tasks;\r\n    mapping(uint256 => IntegrationMapping) private mappings;\r\n    mapping(address => uint256[]) private systemTasks;\r\n    mapping(address => bool) private authorizedSystems;\r\n\r\n    event MigrationStarted(uint256 indexed taskId, string dataType, uint256 recordCount);\r\n    event MigrationCompleted(uint256 indexed taskId, uint256 timeElapsed);\r\n    event MappingCreated(uint256 indexed mappingId, string source, string destination);\r\n    event IntegrationVerified(uint256 indexed taskId);\r\n\r\n    constructor() Ownable(msg.sender) {\r\n        taskCounter = 1;\r\n        mappingCounter = 1;\r\n        authorizedSystems[msg.sender] = true;\r\n    }\r\n\r\n    function authorizeSystem(address system) external onlyOwner {\r\n        authorizedSystems[system] = true;\r\n    }\r\n\r\n    function createMigrationTask(\r\n        string calldata dataType,\r\n        address destinationSystem,\r\n        uint256 recordCount\r\n    ) external returns (uint256) {\r\n        require(authorizedSystems[msg.sender], \"Not authorized\");\r\n        \r\n        uint256 taskId = taskCounter++;\r\n        tasks[taskId] = MigrationTask({\r\n            taskId: taskId,\r\n            dataType: dataType,\r\n            sourceSystem: msg.sender,\r\n            destinationSystem: destinationSystem,\r\n            recordCount: recordCount,\r\n            status: \"pending\",\r\n            createdAt: block.timestamp,\r\n            completedAt: 0\r\n        });\r\n\r\n        systemTasks[msg.sender].push(taskId);\r\n        emit MigrationStarted(taskId, dataType, recordCount);\r\n        return taskId;\r\n    }\r\n\r\n    function completeMigration(uint256 taskId) external {\r\n        require(tasks[taskId].sourceSystem == msg.sender, \"Not task owner\");\r\n        \r\n        tasks[taskId].status = \"completed\";\r\n        tasks[taskId].completedAt = block.timestamp;\r\n        \r\n        uint256 elapsed = block.timestamp - tasks[taskId].createdAt;\r\n        emit MigrationCompleted(taskId, elapsed);\r\n    }\r\n\r\n    function createMapping(\r\n        string calldata sourceField,\r\n        string calldata destinationField,\r\n        string calldata transformationRules\r\n    ) external onlyOwner returns (uint256) {\r\n        uint256 mappingId = mappingCounter++;\r\n        mappings[mappingId] = IntegrationMapping({\r\n            mappingId: mappingId,\r\n            sourceField: sourceField,\r\n            destinationField: destinationField,\r\n            transformationRules: transformationRules\r\n        });\r\n\r\n        emit MappingCreated(mappingId, sourceField, destinationField);\r\n        return mappingId;\r\n    }\r\n\r\n    function verifyIntegration(uint256 taskId) external {\r\n        require(\r\n            keccak256(bytes(tasks[taskId].status)) == keccak256(bytes(\"completed\")),\r\n            \"Not completed\"\r\n        );\r\n        emit IntegrationVerified(taskId);\r\n    }\r\n\r\n    function getMigrationStatus(uint256 taskId)\r\n        external\r\n        view\r\n        returns (string memory status, uint256 progress)\r\n    {\r\n        return (tasks[taskId].status, tasks[taskId].recordCount);\r\n    }\r\n\r\n    function getTotalTasks() external view returns (uint256) {\r\n        return taskCounter - 1;\r\n    }\r\n}\r\n"
    },
    "contracts/modules/018-analytics/AnalyticsAndReportingDashboard.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\nimport {Ownable} from \"@openzeppelin/contracts/access/Ownable.sol\";\r\n\r\n/**\r\n * @title AnalyticsAndReportingDashboard\r\n * @dev Module 018: Analytics and reporting dashboard\r\n */\r\ncontract AnalyticsAndReportingDashboard is Ownable {\r\n    struct SystemMetrics {\r\n        uint256 totalUsers;\r\n        uint256 totalTransactions;\r\n        uint256 totalVolume;\r\n        uint256 timestamp;\r\n    }\r\n\r\n    struct UserAnalytics {\r\n        address user;\r\n        uint256 activityScore;\r\n        uint256 engagementLevel;\r\n        uint256 lastActivityTime;\r\n    }\r\n\r\n    struct Report {\r\n        uint256 reportId;\r\n        string reportType;\r\n        string dataHash;\r\n        uint256 generatedAt;\r\n    }\r\n\r\n    uint256 private reportCounter;\r\n    mapping(uint256 => SystemMetrics) private metrics;\r\n    mapping(address => UserAnalytics) private userAnalytics;\r\n    mapping(uint256 => Report) private reports;\r\n    uint256 private lastMetricsUpdate;\r\n\r\n    event MetricsUpdated(uint256 totalUsers, uint256 totalTransactions, uint256 timestamp);\r\n    event UserActivityTracked(address indexed user, uint256 activityScore);\r\n    event ReportGenerated(uint256 indexed reportId, string reportType);\r\n\r\n    constructor() Ownable(msg.sender) {\r\n        reportCounter = 1;\r\n    }\r\n\r\n    function updateMetrics(\r\n        uint256 totalUsers,\r\n        uint256 totalTransactions,\r\n        uint256 totalVolume\r\n    ) external onlyOwner {\r\n        SystemMetrics memory metric = SystemMetrics({\r\n            totalUsers: totalUsers,\r\n            totalTransactions: totalTransactions,\r\n            totalVolume: totalVolume,\r\n            timestamp: block.timestamp\r\n        });\r\n\r\n        metrics[block.timestamp] = metric;\r\n        lastMetricsUpdate = block.timestamp;\r\n        emit MetricsUpdated(totalUsers, totalTransactions, block.timestamp);\r\n    }\r\n\r\n    function trackUserActivity(\r\n        address user,\r\n        uint256 activityScore,\r\n        uint256 engagementLevel\r\n    ) external onlyOwner {\r\n        userAnalytics[user] = UserAnalytics({\r\n            user: user,\r\n            activityScore: activityScore,\r\n            engagementLevel: engagementLevel,\r\n            lastActivityTime: block.timestamp\r\n        });\r\n\r\n        emit UserActivityTracked(user, activityScore);\r\n    }\r\n\r\n    function generateReport(\r\n        string calldata reportType,\r\n        string calldata dataHash\r\n    ) external onlyOwner returns (uint256) {\r\n        uint256 reportId = reportCounter++;\r\n        reports[reportId] = Report({\r\n            reportId: reportId,\r\n            reportType: reportType,\r\n            dataHash: dataHash,\r\n            generatedAt: block.timestamp\r\n        });\r\n\r\n        emit ReportGenerated(reportId, reportType);\r\n        return reportId;\r\n    }\r\n\r\n    function getSystemMetrics(uint256 timestamp)\r\n        external\r\n        view\r\n        returns (\r\n            uint256 totalUsers,\r\n            uint256 totalTransactions,\r\n            uint256 totalVolume\r\n        )\r\n    {\r\n        SystemMetrics memory metric = metrics[timestamp];\r\n        return (metric.totalUsers, metric.totalTransactions, metric.totalVolume);\r\n    }\r\n\r\n    function getUserAnalytics(address user)\r\n        external\r\n        view\r\n        returns (\r\n            uint256 activityScore,\r\n            uint256 engagementLevel,\r\n            uint256 lastActivity\r\n        )\r\n    {\r\n        UserAnalytics memory analytics = userAnalytics[user];\r\n        return (analytics.activityScore, analytics.engagementLevel, analytics.lastActivityTime);\r\n    }\r\n\r\n    function getReportDetails(uint256 reportId)\r\n        external\r\n        view\r\n        returns (\r\n            string memory reportType,\r\n            string memory dataHash,\r\n            uint256 generatedAt\r\n        )\r\n    {\r\n        Report memory report = reports[reportId];\r\n        return (report.reportType, report.dataHash, report.generatedAt);\r\n    }\r\n\r\n    function getTotalReports() external view returns (uint256) {\r\n        return reportCounter - 1;\r\n    }\r\n}\r\n"
    }
  },
  "settings": {
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "viaIR": true,
    "metadata": {
      "bytecodeHash": "none",
      "useLiteralContent": true
    },
    "evmVersion": "paris",
    "outputSelection": {
      "*": {
        "*": [
          "abi",
          "evm.bytecode",
          "evm.deployedBytecode",
          "evm.methodIdentifiers",
          "metadata",
          "storageLayout",
          "devdoc",
          "userdoc",
          "evm.gasEstimates"
        ],
        "": [
          "ast"
        ]
      }
    }
  }
}