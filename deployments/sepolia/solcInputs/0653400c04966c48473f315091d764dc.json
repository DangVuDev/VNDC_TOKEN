{
  "language": "Solidity",
  "sources": {
    "@openzeppelin/contracts/access/Ownable.sol": {
      "content": "// SPDX-License-Identifier: MIT\n// OpenZeppelin Contracts (last updated v5.0.0) (access/Ownable.sol)\n\npragma solidity ^0.8.20;\n\nimport {Context} from \"../utils/Context.sol\";\n\n/**\n * @dev Contract module which provides a basic access control mechanism, where\n * there is an account (an owner) that can be granted exclusive access to\n * specific functions.\n *\n * The initial owner is set to the address provided by the deployer. This can\n * later be changed with {transferOwnership}.\n *\n * This module is used through inheritance. It will make available the modifier\n * `onlyOwner`, which can be applied to your functions to restrict their use to\n * the owner.\n */\nabstract contract Ownable is Context {\n    address private _owner;\n\n    /**\n     * @dev The caller account is not authorized to perform an operation.\n     */\n    error OwnableUnauthorizedAccount(address account);\n\n    /**\n     * @dev The owner is not a valid owner account. (eg. `address(0)`)\n     */\n    error OwnableInvalidOwner(address owner);\n\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n    /**\n     * @dev Initializes the contract setting the address provided by the deployer as the initial owner.\n     */\n    constructor(address initialOwner) {\n        if (initialOwner == address(0)) {\n            revert OwnableInvalidOwner(address(0));\n        }\n        _transferOwnership(initialOwner);\n    }\n\n    /**\n     * @dev Throws if called by any account other than the owner.\n     */\n    modifier onlyOwner() {\n        _checkOwner();\n        _;\n    }\n\n    /**\n     * @dev Returns the address of the current owner.\n     */\n    function owner() public view virtual returns (address) {\n        return _owner;\n    }\n\n    /**\n     * @dev Throws if the sender is not the owner.\n     */\n    function _checkOwner() internal view virtual {\n        if (owner() != _msgSender()) {\n            revert OwnableUnauthorizedAccount(_msgSender());\n        }\n    }\n\n    /**\n     * @dev Leaves the contract without owner. It will not be possible to call\n     * `onlyOwner` functions. Can only be called by the current owner.\n     *\n     * NOTE: Renouncing ownership will leave the contract without an owner,\n     * thereby disabling any functionality that is only available to the owner.\n     */\n    function renounceOwnership() public virtual onlyOwner {\n        _transferOwnership(address(0));\n    }\n\n    /**\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\n     * Can only be called by the current owner.\n     */\n    function transferOwnership(address newOwner) public virtual onlyOwner {\n        if (newOwner == address(0)) {\n            revert OwnableInvalidOwner(address(0));\n        }\n        _transferOwnership(newOwner);\n    }\n\n    /**\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\n     * Internal function without access restriction.\n     */\n    function _transferOwnership(address newOwner) internal virtual {\n        address oldOwner = _owner;\n        _owner = newOwner;\n        emit OwnershipTransferred(oldOwner, newOwner);\n    }\n}\n"
    },
    "@openzeppelin/contracts/utils/Context.sol": {
      "content": "// SPDX-License-Identifier: MIT\n// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)\n\npragma solidity ^0.8.20;\n\n/**\n * @dev Provides information about the current execution context, including the\n * sender of the transaction and its data. While these are generally available\n * via msg.sender and msg.data, they should not be accessed in such a direct\n * manner, since when dealing with meta-transactions the account sending and\n * paying for execution may not be the actual sender (as far as an application\n * is concerned).\n *\n * This contract is only required for intermediate, library-like contracts.\n */\nabstract contract Context {\n    function _msgSender() internal view virtual returns (address) {\n        return msg.sender;\n    }\n\n    function _msgData() internal view virtual returns (bytes calldata) {\n        return msg.data;\n    }\n\n    function _contextSuffixLength() internal view virtual returns (uint256) {\n        return 0;\n    }\n}\n"
    },
    "contracts/modules/010-scholarship/IScholarshipManager.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\n/**\r\n * @title IScholarshipManager\r\n * @dev Interface for scholarship management system\r\n */\r\ninterface IScholarshipManager {\r\n    // ============ Events ============\r\n    event ScholarshipCreated(\r\n        uint256 indexed scholarshipId,\r\n        string name,\r\n        uint256 totalAmount,\r\n        uint256 maxAwards,\r\n        address funder\r\n    );\r\n\r\n    event StudentAwarded(\r\n        uint256 indexed scholarshipId,\r\n        address indexed student,\r\n        uint256 amount,\r\n        uint256 awardedAt\r\n    );\r\n\r\n    event ScholarshipClaimed(\r\n        uint256 indexed scholarshipId,\r\n        address indexed student,\r\n        uint256 amount,\r\n        uint256 claimedAt\r\n    );\r\n\r\n    event ScholarshipStatusUpdated(\r\n        uint256 indexed scholarshipId,\r\n        string status\r\n    );\r\n\r\n    event FundsDeposited(\r\n        uint256 indexed scholarshipId,\r\n        uint256 amount,\r\n        address depositor\r\n    );\r\n\r\n    event FundsWithdrawn(\r\n        uint256 scholarshipId,\r\n        uint256 amount,\r\n        address to\r\n    );\r\n\r\n    // ============ Mutations ============\r\n    /**\r\n     * @notice Create a new scholarship\r\n     * @param name Scholarship name\r\n     * @param description Scholarship description\r\n     * @param totalAmount Total amount available\r\n     * @param maxAwards Maximum number of awards\r\n     * @param requirements Scholarship requirements (e.g., min GPA)\r\n     * @param duration Duration in seconds (0 = no time limit)\r\n     * @return scholarshipId ID of the new scholarship\r\n     */\r\n    function createScholarship(\r\n        string calldata name,\r\n        string calldata description,\r\n        uint256 totalAmount,\r\n        uint256 maxAwards,\r\n        string calldata requirements,\r\n        uint256 duration\r\n    ) external returns (uint256);\r\n\r\n    /**\r\n     * @notice Deposit funds into a scholarship\r\n     * @param scholarshipId Scholarship ID\r\n     * @param amount Amount to deposit\r\n     */\r\n    function depositFunds(uint256 scholarshipId, uint256 amount) external;\r\n\r\n    /**\r\n     * @notice Award scholarship to a student\r\n     * @param scholarshipId Scholarship ID\r\n     * @param student Student address\r\n     * @param amount Award amount\r\n     */\r\n    function awardScholarship(\r\n        uint256 scholarshipId,\r\n        address student,\r\n        uint256 amount\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Claim awarded scholarship funds\r\n     * @param scholarshipId Scholarship ID\r\n     */\r\n    function claimScholarship(uint256 scholarshipId) external;\r\n\r\n    /**\r\n     * @notice Update scholarship status\r\n     * @param scholarshipId Scholarship ID\r\n     * @param newStatus New status (e.g., \"active\", \"closed\", \"paused\")\r\n     */\r\n    function updateScholarshipStatus(\r\n        uint256 scholarshipId,\r\n        string calldata newStatus\r\n    ) external;\r\n\r\n    /**\r\n     * @notice Withdraw unclaimed funds from scholarship\r\n     * @param scholarshipId Scholarship ID\r\n     * @param amount Amount to withdraw\r\n     */\r\n    function withdrawFunds(uint256 scholarshipId, uint256 amount) external;\r\n\r\n    /**\r\n     * @notice Add funding institution\r\n     * @param fundingEntity Address of funding entity\r\n     */\r\n    function addFundingEntity(address fundingEntity) external;\r\n\r\n    /**\r\n     * @notice Remove funding institution\r\n     * @param fundingEntity Address to remove\r\n     */\r\n    function removeFundingEntity(address fundingEntity) external;\r\n\r\n    // ============ Queries ============\r\n    /**\r\n     * @notice Get scholarship information\r\n     * @param scholarshipId Scholarship ID\r\n     */\r\n    function getScholarshipInfo(uint256 scholarshipId)\r\n        external\r\n        view\r\n        returns (\r\n            string memory name,\r\n            string memory description,\r\n            address funder,\r\n            uint256 totalAmount,\r\n            uint256 distributedAmount,\r\n            uint256 maxAwards,\r\n            uint256 awardsGiven,\r\n            uint256 createdAt,\r\n            uint256 endsAt,\r\n            string memory status\r\n        );\r\n\r\n    /**\r\n     * @notice Get scholarship requirements\r\n     * @param scholarshipId Scholarship ID\r\n     */\r\n    function getScholarshipRequirements(uint256 scholarshipId)\r\n        external\r\n        view\r\n        returns (string memory requirements);\r\n\r\n    /**\r\n     * @notice Get award amount for a student\r\n     * @param scholarshipId Scholarship ID\r\n     * @param student Student address\r\n     */\r\n    function getAwardAmount(uint256 scholarshipId, address student)\r\n        external\r\n        view\r\n        returns (uint256);\r\n\r\n    /**\r\n     * @notice Get claimed amount for a student\r\n     * @param scholarshipId Scholarship ID\r\n     * @param student Student address\r\n     */\r\n    function getClaimedAmount(uint256 scholarshipId, address student)\r\n        external\r\n        view\r\n        returns (uint256);\r\n\r\n    /**\r\n     * @notice Get all scholarships for a student\r\n     * @param student Student address\r\n     */\r\n    function getStudentScholarships(address student)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Get all scholarships funded by an entity\r\n     * @param funder Funder address\r\n     */\r\n    function getFundedScholarships(address funder)\r\n        external\r\n        view\r\n        returns (uint256[] memory);\r\n\r\n    /**\r\n     * @notice Check if scholarship is still open\r\n     * @param scholarshipId Scholarship ID\r\n     */\r\n    function isScholarshipOpen(uint256 scholarshipId)\r\n        external\r\n        view\r\n        returns (bool);\r\n\r\n    /**\r\n     * @notice Check if student is eligible for scholarship\r\n     * @param scholarshipId Scholarship ID\r\n     * @param student Student address\r\n     */\r\n    function isStudentEligible(uint256 scholarshipId, address student)\r\n        external\r\n        view\r\n        returns (bool);\r\n\r\n    /**\r\n     * @notice Get total scholarships created\r\n     */\r\n    function getTotalScholarships() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Get total funds in all scholarships\r\n     */\r\n    function getTotalFundsInScholarships() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Get total funds distributed\r\n     */\r\n    function getTotalFundsDistributed() external view returns (uint256);\r\n\r\n    /**\r\n     * @notice Get available funds in a scholarship\r\n     * @param scholarshipId Scholarship ID\r\n     */\r\n    function getAvailableFunds(uint256 scholarshipId)\r\n        external\r\n        view\r\n        returns (uint256);\r\n}\r\n"
    },
    "contracts/modules/010-scholarship/ScholarshipManager.sol": {
      "content": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.24;\r\n\r\nimport {Ownable} from \"@openzeppelin/contracts/access/Ownable.sol\";\r\nimport {IScholarshipManager} from \"./IScholarshipManager.sol\";\r\n\r\n/**\r\n * @title ScholarshipManager\r\n * @dev Manages scholarship distribution and tracking system\r\n */\r\ncontract ScholarshipManager is Ownable, IScholarshipManager {\r\n    // ============ Data Structures ============\r\n    struct Scholarship {\r\n        string name;\r\n        string description;\r\n        address funder;\r\n        uint256 totalAmount;\r\n        uint256 distributedAmount;\r\n        uint256 maxAwards;\r\n        uint256 awardsGiven;\r\n        uint256 createdAt;\r\n        uint256 endsAt;\r\n        string status;\r\n        string requirements;\r\n    }\r\n\r\n    struct StudentAward {\r\n        uint256 awardAmount;\r\n        uint256 claimedAmount;\r\n        bool hasBeenAwarded;\r\n        uint256 awardedAt;\r\n        uint256 claimedAt;\r\n    }\r\n\r\n    // ============ State Variables ============\r\n    uint256 private scholarshipCounter;\r\n    \r\n    mapping(uint256 => Scholarship) private scholarships;\r\n    mapping(uint256 => mapping(address => StudentAward)) private studentAwards;\r\n    mapping(address => uint256[]) private studentScholarships;\r\n    mapping(address => uint256[]) private fundedScholarships;\r\n    mapping(address => bool) private authorizedFundingEntities;\r\n\r\n    // Statistics\r\n    uint256 private totalFundsInScholarships;\r\n    uint256 private totalFundsDistributed;\r\n\r\n    // ============ Modifiers ============\r\n    modifier onlyFundingEntity() {\r\n        require(\r\n            authorizedFundingEntities[msg.sender] || msg.sender == owner(),\r\n            \"ScholarshipManager: Not authorized funding entity\"\r\n        );\r\n        _;\r\n    }\r\n\r\n    modifier scholarshipExists(uint256 scholarshipId) {\r\n        require(\r\n            scholarshipId > 0 && scholarshipId < scholarshipCounter,\r\n            \"ScholarshipManager: Scholarship does not exist\"\r\n        );\r\n        _;\r\n    }\r\n\r\n    modifier scholarshipOpen(uint256 scholarshipId) {\r\n        require(\r\n            keccak256(bytes(scholarships[scholarshipId].status)) == keccak256(bytes(\"active\")),\r\n            \"ScholarshipManager: Scholarship is not active\"\r\n        );\r\n        require(\r\n            scholarships[scholarshipId].endsAt == 0 || scholarships[scholarshipId].endsAt > block.timestamp,\r\n            \"ScholarshipManager: Scholarship has ended\"\r\n        );\r\n        _;\r\n    }\r\n\r\n    // ============ Constructor ============\r\n    constructor() Ownable(msg.sender) {\r\n        scholarshipCounter = 1;\r\n        totalFundsInScholarships = 0;\r\n        totalFundsDistributed = 0;\r\n    }\r\n\r\n    // ============ Core Functions ============\r\n    /**\r\n     * @notice Create a new scholarship\r\n     */\r\n    function createScholarship(\r\n        string calldata name,\r\n        string calldata description,\r\n        uint256 totalAmount,\r\n        uint256 maxAwards,\r\n        string calldata requirements,\r\n        uint256 duration\r\n    ) external onlyFundingEntity returns (uint256) {\r\n        require(bytes(name).length > 0, \"ScholarshipManager: Name required\");\r\n        require(totalAmount > 0, \"ScholarshipManager: Amount must be greater than 0\");\r\n        require(maxAwards > 0, \"ScholarshipManager: Max awards must be greater than 0\");\r\n\r\n        uint256 scholarshipId = scholarshipCounter++;\r\n        uint256 endsAt = duration > 0 ? block.timestamp + duration : 0;\r\n\r\n        scholarships[scholarshipId] = Scholarship({\r\n            name: name,\r\n            description: description,\r\n            funder: msg.sender,\r\n            totalAmount: totalAmount,\r\n            distributedAmount: 0,\r\n            maxAwards: maxAwards,\r\n            awardsGiven: 0,\r\n            createdAt: block.timestamp,\r\n            endsAt: endsAt,\r\n            status: \"active\",\r\n            requirements: requirements\r\n        });\r\n\r\n        fundedScholarships[msg.sender].push(scholarshipId);\r\n        totalFundsInScholarships += totalAmount;\r\n\r\n        emit ScholarshipCreated(scholarshipId, name, totalAmount, maxAwards, msg.sender);\r\n\r\n        return scholarshipId;\r\n    }\r\n\r\n    /**\r\n     * @notice Deposit funds into a scholarship\r\n     */\r\n    function depositFunds(uint256 scholarshipId, uint256 amount)\r\n        external\r\n        scholarshipExists(scholarshipId)\r\n    {\r\n        require(amount > 0, \"ScholarshipManager: Amount must be greater than 0\");\r\n\r\n        scholarships[scholarshipId].totalAmount += amount;\r\n        totalFundsInScholarships += amount;\r\n\r\n        emit FundsDeposited(scholarshipId, amount, msg.sender);\r\n    }\r\n\r\n    /**\r\n     * @notice Award scholarship to a student\r\n     */\r\n    function awardScholarship(\r\n        uint256 scholarshipId,\r\n        address student,\r\n        uint256 amount\r\n    ) \r\n        external \r\n        scholarshipExists(scholarshipId)\r\n        scholarshipOpen(scholarshipId)\r\n    {\r\n        require(student != address(0), \"ScholarshipManager: Invalid student address\");\r\n        require(amount > 0, \"ScholarshipManager: Amount must be greater than 0\");\r\n        require(msg.sender == scholarships[scholarshipId].funder || msg.sender == owner(),\r\n            \"ScholarshipManager: Only scholarship funder or owner can award\"\r\n        );\r\n\r\n        Scholarship storage scholarship = scholarships[scholarshipId];\r\n        require(\r\n            scholarship.awardsGiven < scholarship.maxAwards,\r\n            \"ScholarshipManager: Max awards reached\"\r\n        );\r\n        require(\r\n            scholarship.distributedAmount + amount <= scholarship.totalAmount,\r\n            \"ScholarshipManager: Insufficient scholarship funds\"\r\n        );\r\n\r\n        require(\r\n            !studentAwards[scholarshipId][student].hasBeenAwarded,\r\n            \"ScholarshipManager: Student already awarded\"\r\n        );\r\n\r\n        // Record award\r\n        studentAwards[scholarshipId][student] = StudentAward({\r\n            awardAmount: amount,\r\n            claimedAmount: 0,\r\n            hasBeenAwarded: true,\r\n            awardedAt: block.timestamp,\r\n            claimedAt: 0\r\n        });\r\n\r\n        // Track student scholarship\r\n        if (!_hasScholarshipInList(student, scholarshipId)) {\r\n            studentScholarships[student].push(scholarshipId);\r\n        }\r\n\r\n        // Update scholarship stats\r\n        scholarship.awardsGiven++;\r\n        scholarship.distributedAmount += amount;\r\n        totalFundsDistributed += amount;\r\n\r\n        emit StudentAwarded(scholarshipId, student, amount, block.timestamp);\r\n    }\r\n\r\n    /**\r\n     * @notice Claim awarded scholarship funds\r\n     */\r\n    function claimScholarship(uint256 scholarshipId)\r\n        external\r\n        scholarshipExists(scholarshipId)\r\n    {\r\n        StudentAward storage award = studentAwards[scholarshipId][msg.sender];\r\n        require(award.hasBeenAwarded, \"ScholarshipManager: Student not awarded\");\r\n        require(award.claimedAmount < award.awardAmount, \"ScholarshipManager: Already claimed\");\r\n\r\n        uint256 claimableAmount = award.awardAmount - award.claimedAmount;\r\n        award.claimedAmount = award.awardAmount;\r\n        award.claimedAt = block.timestamp;\r\n\r\n        emit ScholarshipClaimed(scholarshipId, msg.sender, claimableAmount, block.timestamp);\r\n    }\r\n\r\n    /**\r\n     * @notice Update scholarship status\r\n     */\r\n    function updateScholarshipStatus(\r\n        uint256 scholarshipId,\r\n        string calldata newStatus\r\n    ) \r\n        external \r\n        scholarshipExists(scholarshipId)\r\n    {\r\n        require(\r\n            msg.sender == scholarships[scholarshipId].funder || msg.sender == owner(),\r\n            \"ScholarshipManager: Only funder or owner can update status\"\r\n        );\r\n\r\n        scholarships[scholarshipId].status = newStatus;\r\n        emit ScholarshipStatusUpdated(scholarshipId, newStatus);\r\n    }\r\n\r\n    /**\r\n     * @notice Withdraw unclaimed funds from scholarship\r\n     */\r\n    function withdrawFunds(uint256 scholarshipId, uint256 amount)\r\n        external\r\n        scholarshipExists(scholarshipId)\r\n    {\r\n        require(\r\n            msg.sender == scholarships[scholarshipId].funder || msg.sender == owner(),\r\n            \"ScholarshipManager: Only funder or owner can withdraw\"\r\n        );\r\n        require(amount > 0, \"ScholarshipManager: Amount must be greater than 0\");\r\n\r\n        Scholarship storage scholarship = scholarships[scholarshipId];\r\n        uint256 availableFunds = scholarship.totalAmount - scholarship.distributedAmount;\r\n        \r\n        require(\r\n            amount <= availableFunds,\r\n            \"ScholarshipManager: Insufficient available funds\"\r\n        );\r\n\r\n        scholarship.totalAmount -= amount;\r\n        totalFundsInScholarships -= amount;\r\n\r\n        emit FundsWithdrawn(scholarshipId, amount, msg.sender);\r\n    }\r\n\r\n    /**\r\n     * @notice Add funding institution\r\n     */\r\n    function addFundingEntity(address fundingEntity) external onlyOwner {\r\n        require(fundingEntity != address(0), \"ScholarshipManager: Invalid address\");\r\n        authorizedFundingEntities[fundingEntity] = true;\r\n    }\r\n\r\n    /**\r\n     * @notice Remove funding institution\r\n     */\r\n    function removeFundingEntity(address fundingEntity) external onlyOwner {\r\n        require(fundingEntity != address(0), \"ScholarshipManager: Invalid address\");\r\n        authorizedFundingEntities[fundingEntity] = false;\r\n    }\r\n\r\n    // ============ Query Functions ============\r\n    /**\r\n     * @notice Get scholarship information\r\n     */\r\n    function getScholarshipInfo(uint256 scholarshipId)\r\n        external\r\n        view\r\n        scholarshipExists(scholarshipId)\r\n        returns (\r\n            string memory name,\r\n            string memory description,\r\n            address funder,\r\n            uint256 totalAmount,\r\n            uint256 distributedAmount,\r\n            uint256 maxAwards,\r\n            uint256 awardsGiven,\r\n            uint256 createdAt,\r\n            uint256 endsAt,\r\n            string memory status\r\n        )\r\n    {\r\n        Scholarship memory scholarship = scholarships[scholarshipId];\r\n        return (\r\n            scholarship.name,\r\n            scholarship.description,\r\n            scholarship.funder,\r\n            scholarship.totalAmount,\r\n            scholarship.distributedAmount,\r\n            scholarship.maxAwards,\r\n            scholarship.awardsGiven,\r\n            scholarship.createdAt,\r\n            scholarship.endsAt,\r\n            scholarship.status\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @notice Get scholarship requirements\r\n     */\r\n    function getScholarshipRequirements(uint256 scholarshipId)\r\n        external\r\n        view\r\n        scholarshipExists(scholarshipId)\r\n        returns (string memory)\r\n    {\r\n        return scholarships[scholarshipId].requirements;\r\n    }\r\n\r\n    /**\r\n     * @notice Get award amount for a student\r\n     */\r\n    function getAwardAmount(uint256 scholarshipId, address student)\r\n        external\r\n        view\r\n        scholarshipExists(scholarshipId)\r\n        returns (uint256)\r\n    {\r\n        return studentAwards[scholarshipId][student].awardAmount;\r\n    }\r\n\r\n    /**\r\n     * @notice Get claimed amount for a student\r\n     */\r\n    function getClaimedAmount(uint256 scholarshipId, address student)\r\n        external\r\n        view\r\n        scholarshipExists(scholarshipId)\r\n        returns (uint256)\r\n    {\r\n        return studentAwards[scholarshipId][student].claimedAmount;\r\n    }\r\n\r\n    /**\r\n     * @notice Get all scholarships for a student\r\n     */\r\n    function getStudentScholarships(address student)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        require(student != address(0), \"ScholarshipManager: Invalid address\");\r\n        return studentScholarships[student];\r\n    }\r\n\r\n    /**\r\n     * @notice Get all scholarships funded by an entity\r\n     */\r\n    function getFundedScholarships(address funder)\r\n        external\r\n        view\r\n        returns (uint256[] memory)\r\n    {\r\n        require(funder != address(0), \"ScholarshipManager: Invalid address\");\r\n        return fundedScholarships[funder];\r\n    }\r\n\r\n    /**\r\n     * @notice Check if scholarship is still open\r\n     */\r\n    function isScholarshipOpen(uint256 scholarshipId)\r\n        external\r\n        view\r\n        scholarshipExists(scholarshipId)\r\n        returns (bool)\r\n    {\r\n        Scholarship memory scholarship = scholarships[scholarshipId];\r\n        \r\n        if (keccak256(bytes(scholarship.status)) != keccak256(bytes(\"active\"))) {\r\n            return false;\r\n        }\r\n        \r\n        if (scholarship.endsAt > 0 && scholarship.endsAt < block.timestamp) {\r\n            return false;\r\n        }\r\n\r\n        if (scholarship.awardsGiven >= scholarship.maxAwards) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @notice Check if student is eligible for scholarship\r\n     */\r\n    function isStudentEligible(uint256 scholarshipId, address student)\r\n        external\r\n        view\r\n        scholarshipExists(scholarshipId)\r\n        returns (bool)\r\n    {\r\n        if (!studentAwards[scholarshipId][student].hasBeenAwarded) {\r\n            return false;\r\n        }\r\n\r\n        return studentAwards[scholarshipId][student].claimedAmount < \r\n               studentAwards[scholarshipId][student].awardAmount;\r\n    }\r\n\r\n    /**\r\n     * @notice Get total scholarships\r\n     */\r\n    function getTotalScholarships() external view returns (uint256) {\r\n        return scholarshipCounter - 1;\r\n    }\r\n\r\n    /**\r\n     * @notice Get total funds in scholarships\r\n     */\r\n    function getTotalFundsInScholarships() external view returns (uint256) {\r\n        return totalFundsInScholarships;\r\n    }\r\n\r\n    /**\r\n     * @notice Get total distributed funds\r\n     */\r\n    function getTotalFundsDistributed() external view returns (uint256) {\r\n        return totalFundsDistributed;\r\n    }\r\n\r\n    /**\r\n     * @notice Get available funds in a scholarship\r\n     */\r\n    function getAvailableFunds(uint256 scholarshipId)\r\n        external\r\n        view\r\n        scholarshipExists(scholarshipId)\r\n        returns (uint256)\r\n    {\r\n        Scholarship memory scholarship = scholarships[scholarshipId];\r\n        return scholarship.totalAmount - scholarship.distributedAmount;\r\n    }\r\n\r\n    // ============ Internal Helper Functions ============\r\n    /**\r\n     * @notice Check if student already has scholarship in list\r\n     */\r\n    function _hasScholarshipInList(address student, uint256 scholarshipId)\r\n        internal\r\n        view\r\n        returns (bool)\r\n    {\r\n        uint256[] memory scholarships_ = studentScholarships[student];\r\n        for (uint256 i = 0; i < scholarships_.length; i++) {\r\n            if (scholarships_[i] == scholarshipId) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n"
    }
  },
  "settings": {
    "optimizer": {
      "enabled": true,
      "runs": 200
    },
    "viaIR": true,
    "metadata": {
      "bytecodeHash": "none",
      "useLiteralContent": true
    },
    "evmVersion": "paris",
    "outputSelection": {
      "*": {
        "*": [
          "abi",
          "evm.bytecode",
          "evm.deployedBytecode",
          "evm.methodIdentifiers",
          "metadata",
          "storageLayout",
          "devdoc",
          "userdoc",
          "evm.gasEstimates"
        ],
        "": [
          "ast"
        ]
      }
    }
  }
}